
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   MAE C263C Project
%   Keybot - The 1 finger speed racer, that canâ€™t press shift.
%
%   Authors:        Will, Gabriel, Jake and Juan
%   Date:           5/3/2022
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

close all; clear all; clc

%% Connect to Teensy
connectedTeensy = serialport("COM6", 115200); %Need to select the right port

%% Startup and enable motors
while(connectedTeensy.NumBytesAvailable > 0) 
    connectedTeensy.readline()
end
connectedTeensy.writeline('EN');

%% Send a command
connectedTeensy.writeline('S_Q 0 0');
readAllData()

while(connectedTeensy.NumBytesAvailable > 0) 
    connectedTeensy.readline()
end

%% Disable and close files
connectedTeensy.writeline('DIS');
while(connectedTeensy.NumBytesAvailable > 0) 
    connectedTeensy.readline()
end
connectedTeensy.writeline('OFF');


%% Functions
function [] = readAllData() 
    fprintf("hi\n);
    while(connectedTeensy.NumBytesAvailable > 0) 
    connectedTeensy.readline()
end

end

function [outputArg1,outputArg2] = untitled(inputArg1,inputArg2)
%UNTITLED Summary of this function goes here
%   Detailed explanation goes here
outputArg1 = inputArg1;
outputArg2 = inputArg2;
end